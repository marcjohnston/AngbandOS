<div id="container">
  <ng-container *ngIf="activeGames !== undefined">
    <h6 id="active-games-span">Active Games</h6>
    <table mat-table [dataSource]="activeGames">
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef>
          Username
        </th>
        <td mat-cell *matCellDef="let activeGame">{{activeGame.username}}</td>
      </ng-container>
      <ng-container matColumnDef="character-name">
        <th mat-header-cell *matHeaderCellDef>
          Character Name
        </th>
        <td mat-cell *matCellDef="let activeGame">{{activeGame.characterName}}</td>
      </ng-container>
      <ng-container matColumnDef="gold">
        <th mat-header-cell *matHeaderCellDef>
          Gold
        </th>
        <td mat-cell *matCellDef="let activeGame">{{activeGame.gold}}</td>
      </ng-container>
      <ng-container matColumnDef="level">
        <th mat-header-cell *matHeaderCellDef>
          Level
        </th>
        <td mat-cell *matCellDef="let activeGame">{{activeGame.level}}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="activeGamesDisplayedColumns"></tr>
      <tr mat-row *matRowDef="let activeGame; columns: activeGamesDisplayedColumns" (click)="onActiveGameRowClick(activeGame)" [ngClass]="{'highlight': activeGame === selectedActiveGame}"></tr>
    </table>
  </ng-container>
  <ng-container *ngIf="isAuthenticated">
    <ng-container *ngIf="savedGames !== undefined">
      <h6 id="saved-games-span">Your Saved Games</h6>
      <table mat-table [dataSource]="savedGames">
        <ng-container matColumnDef="guid">
          <th mat-header-cell *matHeaderCellDef>
            Guid
          </th>
          <td mat-cell *matCellDef="let savedGame">{{savedGame.guid}}</td>
        </ng-container>
        <ng-container matColumnDef="character-name">
          <th mat-header-cell *matHeaderCellDef>
            Character Name
          </th>
          <td mat-cell *matCellDef="let savedGame">{{savedGame.characterName}}</td>
        </ng-container>
        <ng-container matColumnDef="gold">
          <th mat-header-cell *matHeaderCellDef>
            Gold
          </th>
          <td mat-cell *matCellDef="let savedGame">{{savedGame.gold}}</td>
        </ng-container>
        <ng-container matColumnDef="level">
          <th mat-header-cell *matHeaderCellDef>
            Level
          </th>
          <td mat-cell *matCellDef="let savedGame">{{savedGame.level}}</td>
        </ng-container>
        <ng-container matColumnDef="is-alive">
          <th mat-header-cell *matHeaderCellDef>
            Health
          </th>
          <td mat-cell *matCellDef="let savedGame">{{savedGame.isAlive ? "Alive and well" : "Dead"}}</td>
        </ng-container>
        <ng-container matColumnDef="last-saved">
          <th mat-header-cell *matHeaderCellDef>
            Last Saved
          </th>
          <td mat-cell *matCellDef="let savedGame">{{savedGame.savedDateTime | date: 'M/d/yy, h:mm a z'}}</td>
        </ng-container>
        <ng-container matColumnDef="notes">
          <th mat-header-cell *matHeaderCellDef>
            Notes
          </th>
          <td mat-cell *matCellDef="let savedGame">{{savedGame.comments}}</td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="savedGamesDisplayedColumns"></tr>
        <tr mat-row *matRowDef="let savedGame; columns: savedGamesDisplayedColumns" (click)="onSavedGameRowClick(savedGame)" [ngClass]="{'highlight': savedGame === selectedSavedGame}"></tr>
      </table>
    </ng-container>
    <button mat-flat-button (click)="onNewGame()">Play New Game</button>
  </ng-container>
  <ng-container *ngIf="(isAuthenticated) === false">
    Welcome to AngbandOS.  You must login to play.
  </ng-container>
</div>
